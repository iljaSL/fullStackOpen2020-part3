{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","components/Notification.js","services/personServices.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Persons","person","handleDelete","name","number","onClick","Filter","search","handleSearch","Notification","message","notificationStyle","background","color","margin","padding","style","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","showAll","notification","setNotification","errorMessage","setErrorMessage","useEffect","personServices","intialNumbers","notificationMessage","text","setTimeout","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","personObject","window","alert","map","confirm","find","p","updatedPerson","catch","error","returnedPerson","concat","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0debde57.chunk.js","sourcesContent":["import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => {\n  return (\n    <>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ person, handleDelete }) => {\n  return (\n    <div>\n      <p>\n        {person.name} {person.number}\n        <button onClick={handleDelete}>delete</button>\n      </p>\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Filter = ({ search, handleSearch }) => {\n  return (\n    <div>\n      search: <input value={search} onChange={handleSearch} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Notification = ({ message, type }) => {\n  const successNotification = {\n    background: \"#DFF2BF\",\n    color: \"#4F8A10\",\n    margin: \"10px 0px\",\n    padding: \"12px\",\n  };\n\n  const updateNotification = {\n    background: \"#BDE5F8\",\n    color: \"#00529B\",\n    margin: \"10px 0px\",\n    padding: \"12px\",\n  };\n\n  const errorNotification = {\n    background: \"#FFD2D2\",\n    color: \"#D8000C\",\n    margin: \"10px 0px\",\n    padding: \"12px\",\n  };\n\n  const notificationStyle =\n    message === null\n      ? null\n      : type === \"ok\"\n      ? successNotification\n      : type === \"update\"\n      ? updateNotification\n      : errorNotification;\n\n  return <div style={notificationStyle}>{message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"http://localhost:3001/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deleteEntry = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request;\n};\n\nexport default { getAll, create, update, deleteEntry };\n","import React, { useState, useEffect } from \"react\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport personServices from \"./services/personServices\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [showAll] = useState(true);\n  const [notification, setNotification] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personServices.getAll().then((intialNumbers) => {\n      setPersons(intialNumbers);\n    });\n  }, []);\n\n  const notificationMessage = (text, type) => {\n    setNotification(`${text}`);\n    setErrorMessage(type);\n    setTimeout(() => setNotification(null), 3000);\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (personObject.name === \"\" || personObject.number === \"\")\n      return window.alert(\"Please provide a name and a number!\");\n    if (persons.map((person) => person.name).includes(newName)) {\n      if (\n        window.confirm(\n          `${newName} is already in the phonebook. Do you want to update the number?`\n        )\n      ) {\n        const id = persons.find((p) => p.name === newName).id;\n\n        personServices\n          .update(id, personObject)\n          .then((updatedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === id ? updatedPerson : person\n              )\n            );\n            notificationMessage(`${newName} has been updated!`, \"update\");\n          })\n          .catch((error) => {\n            if (error.message === \"Request failed with status code 404\") {\n              notificationMessage(\n                `${newName} has been already removed from the phonebook!`,\n                \"error\"\n              );\n            }\n          });\n      }\n    } else {\n      personServices.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        notificationMessage(`${newName} added to the phonebook!`, \"ok\");\n      });\n    }\n  };\n\n  const handleDelete = (id, name) => {\n    if (window.confirm(`Are you sure you want to delete ${name}?`)) {\n      personServices\n        .deleteEntry(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id));\n          notificationMessage(`${name} has been deleted!`, \"ok\");\n        })\n        .catch(() => {\n          notificationMessage(\n            `${name} has been already removed from the server.`,\n            \"error\"\n          );\n          setPersons(persons.filter((p) => p.id !== id));\n        });\n    }\n  };\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value);\n  };\n\n  const personsToShow = showAll\n    ? persons.filter((persons) =>\n        persons.name.toLowerCase().includes(search.toLowerCase())\n      )\n    : persons;\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} type={errorMessage} />\n      <Filter search={search} handleSearch={handleSearch} />\n      <h3>Add a new person</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      {personsToShow.map((person) => (\n        <Persons\n          key={person.name}\n          person={person}\n          handleDelete={() => handleDelete(person.id, person.name)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}