{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","components/Notification.js","services/personServices.js","App.js","index.js"],"names":["PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Persons","person","handleDelete","name","number","onClick","Filter","search","handleSearch","Notification","message","notificationStyle","background","color","margin","padding","style","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","showAll","notification","setNotification","errorMessage","setErrorMessage","useEffect","personServices","intialNumbers","notificationMessage","text","setTimeout","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","personObject","window","alert","map","confirm","find","p","updatedPerson","catch","error","returnedPerson","concat","console","log","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bc5e129b.chunk.js","sourcesContent":["import React from 'react';\n\nconst PersonForm = ({\n\taddPerson,\n\tnewName,\n\thandleNameChange,\n\tnewNumber,\n\thandleNumberChange,\n}) => {\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={addPerson}>\n\t\t\t\t<div>\n\t\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tnumber: <input value={newNumber} onChange={handleNumberChange} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t);\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Persons = ({ person, handleDelete }) => {\n\treturn (\n\t\t<div>\n\t\t\t<p>\n\t\t\t\t{person.name} {person.number}\n\t\t\t\t<button onClick={handleDelete}>delete</button>\n\t\t\t</p>\n\t\t</div>\n\t);\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Filter = ({ search, handleSearch }) => {\n\treturn (\n\t\t<div>\n\t\t\tsearch: <input value={search} onChange={handleSearch} />\n\t\t</div>\n\t);\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst Notification = ({ message, type }) => {\n\tconst successNotification = {\n\t\tbackground: '#DFF2BF',\n\t\tcolor: '#4F8A10',\n\t\tmargin: '10px 0px',\n\t\tpadding: '12px',\n\t};\n\n\tconst updateNotification = {\n\t\tbackground: '#BDE5F8',\n\t\tcolor: '#00529B',\n\t\tmargin: '10px 0px',\n\t\tpadding: '12px',\n\t};\n\n\tconst errorNotification = {\n\t\tbackground: '#FFD2D2',\n\t\tcolor: '#D8000C',\n\t\tmargin: '10px 0px',\n\t\tpadding: '12px',\n\t};\n\n\tconst notificationStyle =\n\t\tmessage === null\n\t\t\t? null\n\t\t\t: type === 'ok'\n\t\t\t? successNotification\n\t\t\t: type === 'update'\n\t\t\t? updateNotification\n\t\t\t: errorNotification;\n\n\treturn <div style={notificationStyle}>{message}</div>;\n};\n\nexport default Notification;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n\tconst request = axios.post(baseUrl, newObject);\n\treturn request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject);\n\treturn request.then((response) => response.data);\n};\n\nconst deleteEntry = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\treturn request;\n};\n\nexport default { getAll, create, update, deleteEntry };\n","import React, { useState, useEffect } from 'react';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport personServices from './services/personServices';\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newNumber, setNewNumber] = useState('');\n\tconst [search, setSearch] = useState('');\n\tconst [showAll] = useState(true);\n\tconst [notification, setNotification] = useState(null);\n\tconst [errorMessage, setErrorMessage] = useState(null);\n\n\tuseEffect(() => {\n\t\tpersonServices.getAll().then((intialNumbers) => {\n\t\t\tsetPersons(intialNumbers);\n\t\t});\n\t}, []);\n\n\tconst notificationMessage = (text, type) => {\n\t\tsetNotification(`${text}`);\n\t\tsetErrorMessage(type);\n\t\tsetTimeout(() => setNotification(null), 3000);\n\t\tsetNewName('');\n\t\tsetNewNumber('');\n\t};\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault();\n\t\tconst personObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t};\n\n\t\tif (personObject.name === '' || personObject.number === '')\n\t\t\treturn window.alert('Please provide a name and a number!');\n\t\tif (persons.map((person) => person.name).includes(newName)) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${newName} is already in the phonebook. Do you want to update the number?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tconst id = persons.find((p) => p.name === newName).id;\n\n\t\t\t\tpersonServices\n\t\t\t\t\t.update(id, personObject)\n\t\t\t\t\t.then((updatedPerson) => {\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.map((person) =>\n\t\t\t\t\t\t\t\tperson.id === id ? updatedPerson : person\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tnotificationMessage(`${newName} has been updated!`, 'update');\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tif (error.message === 'Request failed with status code 404') {\n\t\t\t\t\t\t\tnotificationMessage(\n\t\t\t\t\t\t\t\t`${newName} has been already removed from the phonebook!`,\n\t\t\t\t\t\t\t\t'error'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tpersonServices\n\t\t\t\t.create(personObject)\n\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson));\n\t\t\t\t\tnotificationMessage(`${newName} added to the phonebook!`, 'ok');\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error.response.data.error);\n\t\t\t\t\tnotificationMessage(error.response.data.error, 'error');\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst handleDelete = (id, name) => {\n\t\tif (window.confirm(`Are you sure you want to delete ${name}?`)) {\n\t\t\tpersonServices\n\t\t\t\t.deleteEntry(id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== id));\n\t\t\t\t\tnotificationMessage(`${name} has been deleted!`, 'ok');\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tnotificationMessage(\n\t\t\t\t\t\t`${name} has been already removed from the server.`,\n\t\t\t\t\t\t'error'\n\t\t\t\t\t);\n\t\t\t\t\tsetPersons(persons.filter((p) => p.id !== id));\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst handleSearch = (event) => {\n\t\tsetSearch(event.target.value);\n\t};\n\n\tconst personsToShow = showAll\n\t\t? persons.filter((persons) =>\n\t\t\t\tpersons.name.toLowerCase().includes(search.toLowerCase())\n\t\t  )\n\t\t: persons;\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={notification} type={errorMessage} />\n\t\t\t<Filter search={search} handleSearch={handleSearch} />\n\t\t\t<h3>Add a new person</h3>\n\t\t\t<PersonForm\n\t\t\t\taddPerson={addPerson}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t{personsToShow.map((person) => (\n\t\t\t\t<Persons\n\t\t\t\t\tkey={person.name}\n\t\t\t\t\tperson={person}\n\t\t\t\t\thandleDelete={() => handleDelete(person.id, person.name)}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}